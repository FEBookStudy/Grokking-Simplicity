# Chapter 10. 일급 함수 **I**

## 코드의 냄새: 함수 이름에 있는 암묵적 인자
함수 본문에서 사용하는 어떤 값이 함수 이름에 나타난다면 **함수 이름에 있는 암묵적 인자**는 코드의 냄새이다.

아래 리팩터링으로 해결할 수 있다.

### 리팩터링: 암묵적 인자를 드러내기
암묵적 인자가 일급 값이 되도록 함수에 인자를 추가한다.
**단계** 
- 함수 이름에 있는 암묵적 인자를 확인한다.
- 명시적인 인자를 추가한다.
- 함수 본문에 하드 코딩된 값을 새로운 인자로 바꾼다.
- 함수를 호출하는 곳을 고친다.

### 리팩터링: 함수 본문을 콜백으로 바꾸기
함수 본문을 콜백으로 바꾸기 리팩터링으로 함수 본문에 어떤 부분(비슷한 함수에 있는 서로 다른 부분)을 콜백으로 바꾼다. 

> [!NOTE]  
> 반복되거나 공통화 시킬 수 있는 로직을 **고차 함수**로 추출하고 핵심이 되는 로직은 **콜백 함수**로 만들어 고차 함수에 넘겨준다.

이렇게 하면 일급 함수로 어떤 함수에 동작을 전달할 수 있다. 이 방법은 원래 있는 코드를 고차 함수로 만드는 강력한 방법이다.

**단계**
1. 본문에서 바꿀 부분의 앞부분과 뒷부분을 확인한다.
2. 리팩터링할 코드를 함수로 빼낸다.
3. 빼낸 함수의 인자로 넘길 부분을 또 다른 함수로 빼낸다.

```js
function withLogging(f) {
    try {
        f()
    } catch (error) {
        logToSnapErrors(error)
    }
}
```


>[!note]
> **일급값, 일급 함수, 고차 함수**
> 1. 일급 값은 변수에 저장할 수 있고 인자로 전달하거나 함수의 리턴값으로 사용할 수 있다. 일급 값은 코드로 다룰 수 있는 값이다.
>2. 언어에는 일급이 아닌 기능이 많이 있다. 일급이 아닌 기능은 함수로 감싸 일급으로 만들 수 있다.
>3. 고차 함수는 다른 함수에 인자로 넘기거나 리턴값으로 받을 수 있는 함수이다. 고차 함수로 다양한 동작을 추상화할 수 있다.




