# 18. 반응형 아키텍처와 어니언 아키텍처

## 반응형 아키텍처

- 코드에 나타난 순차적 액션의 순서를 뒤집기
  - 효과와 그 효과에 대한 원인을 분리해서 코드에 복잡하게 꼬인 부분을 풀 수 있다.
- 이벤트에 대한 반응으로 일어날 일을 지정
- 이벤트 핸들러: 어떤 일이 일어나면 그에 대한 응답으로 처리
  - 핸들러 함수에서 순서대로 실행되던 것을 여러 개의 핸들러에서 실행되도록 나눈다.

### 반응형 아키텍처의 절충점

1. 원인과 효과가 결합한 것을 분리한다.
2. 여러 단계를 파이프라인으로 처리한다.
   - 파이프라인: 순서대로 발생하는 작은 액션들의 조합
   - 각 단계에서 생성된 데이터는 다음 단계의 입력값으로 사용된다.
3. 타임라인이 유연해진다.

## 어니언 아키텍처

- 현실 세계와 상호작용하기 위한 서비스 구조 만들기
- 어니언 아키텍처 계층
  1. 인터랙션 계층
     - 바깥 세상에 영향을 주거나 받는 액션
     - 도메인이 데이터베이스나 웹 요청에 의존하지 않기 때문에 바꾸기 쉽다.
  2. 도메인 계층
     - 비즈니스 규칙을 정의하는 계산
     - 도메인 규칙은 도메인 용어를 사용한다.
  3. 언어 계층
     - 언어 유틸리티와 라이브러리
- 규칙
  1. 현실 세계와 상호작용은 인터랙션 계층에서 해야한다.
  2. 계층에서 호출하는 방향은 중심 방향이다.
  3. 계층은 외부에 어떤 계층이 있는지 모른다.
